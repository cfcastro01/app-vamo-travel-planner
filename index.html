<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vamo - Planejador de Viagens</title>
    <!-- <link rel="stylesheet" href="css/style.css"> -->
    <link rel="stylesheet" href="css/main.css">
    <!-- Biblioteca de icones do fontawesome -->
    <script src="https://kit.fontawesome.com/ad5bfcc451.js" crossorigin="anonymous"></script>
    <!-- Sortable.js para drag and drop -->
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- Cabeçalho -->
        <!-- <h1>vamo</h1> -->
        <div class="logo-container">
          <img src="/assets/logo/vamo.svg" alt="vamo" class="logo">
          <h1>viajar</h1>
          <!-- <h3>Planeje, viaje, repita</h3> -->
      </div>

        <!-- Controles -->
        <div class="controls">
            <label>
                Data de início
                <input type="date" id="startDate" required oninput="validateCreateButton()">
            </label>
            <label>
                Dias de viagem
                <input type="number" id="daysCount" min="1" value="7" required>
            </label>
            <button id="createTripBtn" onclick="createTrip()">Criar Viagem</button>
        </div>
        

        <!-- Tabela de Dias -->
        <div class="trip-table">
            <div class="header-row">
                <div class="date-day">
                  <span class="date">Data</span>
                  <span class="day">Dia</span>
                </div>
                <span class="event">Evento/Local</span>
            </div>
            <div id="daysList"></div>
        </div>

        <!-- Botões -->
        <div class="controls">
            <button onclick="addDay()">+ Dia</button>
            <button onclick="removeDay()">- Dia</button>
            <button onclick="saveTrip()">Salvar</button>
            <!-- <button onclick="shareTrip()">Compartilhar</button>
            <input type="file" id="importFile" hidden>
            <button onclick="document.getElementById('importFile').click()">Importar</button> -->
        </div>
    </div>

     <!-- Modal do evento -->
     <dialog id="eventModal">
        <form onsubmit="event.preventDefault(); handleSave()">
          <h2>Detalhes do Evento</h2>
          
          <div class="modal-grid">
            <!-- Linha 1 - Título (full width) -->
            <label>
              Título:
              <input type="text" id="eventTitle" required>
            </label>
      
            <!-- Linha 2 - 3 colunas -->
            <div class="row-third">
                <label>
                Data:
                <input type="text" id="eventDate" disabled>
                </label>
      
                <label>
                Horário Partida:
                <input type="time" id="eventDeparture">
                </label>
        
                <label>
                Horário Chegada:
                <input type="time" id="eventArrival">
                </label>
            </div>
      
            <!-- Linha 3 - 2 colunas -->
            <div class="row-half-unequal">
              <label>
                Hospedagem:
                <input type="text" id="eventLodging">
              </label>
              <label>
                Valor (R$):
                <input type="number" id="lodgingPrice" min="0" step="50" placeholder="0" class="input-valor">
              </label>
            </div>
      
             <!-- Linha 4 - full width -->
            <label>
              Endereço:
              <input type="text" id="eventAddress">
            </label>
      
             <!-- Linha 5 - full width -->
            <label>
              Link:
              <input type="url" id="eventLink" placeholder="https://">
            </label>

          <!-- Linha 6 - 2 colunas -->
          <div class="row-half-equal">
            <label>
              Transporte (R$):
              <input type="number" id="transportPrice" min="0" step="10" placeholder="0">
            </label>

            <label>
              Alimentação (R$):
              <input type="number" id="foodPrice" min="0" step="10" placeholder="0">
            </label>
          </div>

          <!-- Atrações (repetível) -->
          <div class="attraction-container">
              <!-- conteúdo criado em eventModal.js -->
          </div>

          <!-- Botão para adicionar mais atrações -->
          <div class="attraction-actions">
            <button type="button" class="add-attraction" onclick="addAttractionField()">
              + Adicionar Atração
            </button>
            <button type="button" class="remove-attraction" onclick="removeLastAttraction()">
              - Remover Última
            </button>
          </div>
      
          <!-- Linha 7 - full width -->
            <label>
              Notas:
              <textarea id="eventNotes" rows="3"></textarea>
            </label>
          </div>
      
          <div class="modal-buttons">
            <button type="submit">Salvar</button>
            <button type="button" onclick="this.closest('dialog').close()">Fechar</button>
          </div>
        </form>
      </dialog>


    <script src="js/app.js"></script>
</body>
</html>